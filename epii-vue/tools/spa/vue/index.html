<!doctype html>
<html lang="en">

<head>
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
    <meta http-equiv="Pragma" content="no-cache" />
    <meta http-equiv="Expires" content="0" />
    <meta charset="UTF-8">
    <title></title>
    <meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=0">
    <meta name="referrer" content="never">

    <style>
        .__page-loading {
            width: 100vw;
            height: 100vh;
            display: flex;
            flex-direction: column;
            /* border: 1px solid red; */
            justify-content: center;
            align-items: center;

        }
    </style>
</head>

<body style="margin: 0;padding:0">
    <div id="root" style="display: none"></div>

    <div id="__epii_page_loading__" style="display: none;">
        <div class="__page-loading">
            <%= htmlWebpackPlugin.options.loadingContent %>
        </div>
    </div>
    <script>
        let __top__html_handler = {
            loadingTag: false,
            isLoading: false,
            loadingStartTime: 0,
            rootNode: document.getElementById("root"),
            loadingNode: document.getElementById("__epii_page_loading__"),
            stopLoading() {
                this.loadingTag = false;
                this.rootNode.style.display = "block";
                if (this.isLoading) {
                    setTimeout(() => {
                        this.loadingNode.style.display = "none";
                        this.isLoading = false;
                    }, Math.max(0, 1500 - (new Date().getTime() - this.loadingStartTime)));
                }

            },
            startLoading() {
                if (this.isLoading) return;
                this.loadingTag = true;
                setTimeout(() => {
                    if (!this.loadingTag) return;
                    this.rootNode.style.display = "none";
                    this.loadingNode.style.display = "block";
                    this.isLoading = true;
                    this.loadingStartTime = new Date().getTime();
                },500);

            }
        }
        function getAppHandler() {
            return __top__html_handler;
        }
        getAppHandler().startLoading();


    </script>
</body>

</html>